# Copyright (c) 2001-2003 Gregory M. Kurtzer
#
# Copyright (c) 2003-2011, The Regents of the University of California,
# through Lawrence Berkeley National Laboratory (subject to receipt of any
# required approvals from the U.S. Dept. of Energy).  All rights reserved.
#

package Warewulf::Provision::Include;

use Warewulf::Logger;
use Exporter;
use File::Basename;
use vars qw($VERSION %path %info);

our @ISA = ("Exporter");

our @EXPORT = qw(
    &wwinfo
    &wwpath
);

$VERSION = "@VERSION@";

=head1 NAME

Warewulf::Provision::Include - Warewulf base configuration paramaters

=head1 ABOUT

This package gets updated at build time to match the configure options
that it was called with. Including this file will make a global
configuration hash available (%pconfig). Below is the list of exported
values.

=head1 SYNOPSIS

    use Warewulf::Provision::Include;

    foreach my $key ( keys %Warewulf::Provision::Include::info) {
        print "$key: $Warewulf::Provision::Include::info{$key}\n";
    }
    foreach my $key ( keys %Warewulf::Provision::Include::path) {
        print "$key: $Warewulf::Provision::Include::path{$key}\n";
    }

=head1 INFO

    PROGNAME
    BASE_VERSION
    VERSION
    BUILD
    PREFIX

=head1 PATH

    PREFIX
    STATEDIR
    SYSCONFDIR
    LIBDIR
    DATADIR

=cut

my $prefix = "@prefix@";
my $exec_prefix = "@exec_prefix@";


$info{"PROGNAME"}                        = basename($0);
$info{"VERSION"}                         = $VERSION;

$path{"PREFIX"}                          = "@prefix@";
$path{"STATEDIR"}                        = "@localstatedir@";
$path{"SYSCONFDIR"}                      = "@sysconfdir@";
$path{"LIBDIR"}                          = "@libdir@";
$path{"DATADIR"}                         = "@datadir@";
$path{"LIBEXECDIR"}                      = "@libexecdir@";
$path{"INITRAMFSDIR"}                    = "@initramfsdir@";

sub
wwinfo($)
{
    my $var = uc(shift);

    if (exists($info{"$var"})) {
        return($info{"$var"});
    } else {
        &dprint("Requested an unknown paramater\n");
    }

    return();
}


sub
wwpath($)
{
    my $var = uc(shift);

    if (exists($path{"$var"})) {
        return($path{"$var"});
    } else {
        &dprint("Requested an unknown paramater\n");
    }

    return();
}

=head1 SEE ALSO

Warewulf

=cut


1;
